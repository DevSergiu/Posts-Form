{"version":3,"sources":["reducers/postReducer.js","contexts/PostContext.jsx","components/tags/tags.component.jsx","components/post/post.component.jsx","components/post-list/post-list.component.jsx","components/post-form/post-form.component.jsx","App.js","index.js"],"names":["postReducer","state","action","type","tag","post","tags","split","id","uuid","title","body","filter","PostContext","createContext","PostProvider","props","useReducer","postsData","localData","localStorage","getItem","JSON","parse","posts","dispatch","useEffect","setItem","stringify","Provider","value","children","Tags","classTag","className","Post","useContext","Object","values","map","key","onClick","PostList","PostForm","useState","setTitle","setBody","setTags","onSubmit","e","preventDefault","name","placeholder","onChange","target","required","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6316b2fc.chunk.js","sourcesContent":["import uuid from \"uuid/v4\";\r\n\r\nexport const postReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'ADD_POST':\r\n      const tag = action.post.tags.split(\" \");\r\n      return [...state, {\r\n        id: uuid(),\r\n        title: action.post.title,\r\n        body: action.post.body,\r\n        tags: tag\r\n\r\n      }]\r\n\r\n    case 'REMOVE_POST':\r\n      return state.filter(post => post.id !== action.id)\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import React, { useEffect, createContext, useReducer } from \"react\";\r\nimport { postReducer } from \"../reducers/postReducer\";\r\nimport postsData from \"../assets/posts.json\";\r\n\r\nexport const PostContext = createContext();\r\n\r\nexport const PostProvider = props => {\r\n  const [posts, dispatch] = useReducer(postReducer, [...postsData], () => {\r\n    const localData = localStorage.getItem(\"posts\");\r\n    return localData ? JSON.parse(localData) : [...postsData];\r\n  });\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(\"posts\", JSON.stringify(posts));\r\n  }, [posts]);\r\n\r\n  return (\r\n    <PostContext.Provider value={{ posts, dispatch }}>\r\n      {props.children}\r\n    </PostContext.Provider>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nconst Tags = ({ tag, classTag }) => <button className={classTag}>{tag}</button>;\r\n\r\nexport default Tags;\r\n","import React, { useContext } from \"react\";\r\nimport { PostContext } from \"../../contexts/PostContext\";\r\nimport Tags from \"../tags/tags.component\";\r\n\r\nimport \"./post.styles.scss\";\r\n\r\nconst Post = ({ title, body, tags, id }) => {\r\n  const { dispatch } = useContext(PostContext);\r\n\r\n  return (\r\n    <div className=\"post\">\r\n      <div>\r\n        <h3 className=\"post--title\">{title}</h3>\r\n        <p className=\"post--body\">{body}</p>\r\n\r\n        {Object.values(tags).map((tag, id) => (\r\n          <Tags classTag=\"btn btn--tag\" tag={tag} key={id} />\r\n        ))}\r\n\r\n        <div>\r\n          <button\r\n            className=\"btn btn--post-delete\"\r\n            onClick={() => dispatch({ type: \"REMOVE_POST\", id })}\r\n          >\r\n            Удалить\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import React, { useContext } from \"react\";\r\nimport Post from \"../post/post.component\";\r\nimport { PostContext } from \"../../contexts/PostContext\";\r\n\r\nconst PostList = () => {\r\n  const { posts } = useContext(PostContext);\r\n\r\n  return (\r\n    <div>\r\n      {posts.map((post, id) => (\r\n        <Post\r\n          title={post.title}\r\n          body={post.body}\r\n          tags={post.tags}\r\n          id={post.id}\r\n          key={id}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostList;\r\n","import React, { useState, useContext } from \"react\";\r\nimport { PostContext } from \"../../contexts/PostContext\";\r\nimport \"./post-form.styles.scss\";\r\n\r\nconst PostForm = () => {\r\n  const { dispatch } = useContext(PostContext);\r\n\r\n  const [title, setTitle] = useState(\"\");\r\n  const [body, setBody] = useState(\"\");\r\n  const [tags, setTags] = useState(\"\");\r\n\r\n  const updateTitle = e => setTitle(e.target.value);\r\n  const updateBody = e => setBody(e.target.value);\r\n  const updateTags = e => setTags(e.target.value);\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    dispatch({\r\n      type: \"ADD_POST\",\r\n      post: {\r\n        title,\r\n        body,\r\n        tags\r\n      }\r\n    });\r\n    setTitle(\"\");\r\n    setBody(\"\");\r\n    setTags(\"\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"post--Form\">\r\n      <form onSubmit={handleSubmit}>\r\n        <div>\r\n          <input\r\n            className=\"form--input\"\r\n            type=\"text\"\r\n            name=\"title\"\r\n            placeholder=\"заголовок\"\r\n            value={title}\r\n            onChange={updateTitle}\r\n            required\r\n          />\r\n          <input\r\n            className=\"form--input\"\r\n            type=\"text\"\r\n            name=\"body\"\r\n            placeholder=\"запись\"\r\n            value={body}\r\n            onChange={updateBody}\r\n            required\r\n          />\r\n          <input\r\n            className=\"form--input\"\r\n            type=\"text\"\r\n            name=\"tags\"\r\n            placeholder=\"тег, еще тег\"\r\n            value={tags}\r\n            onChange={updateTags}\r\n            required\r\n          />\r\n        </div>\r\n        <button className=\"btn btn--post-add\">Добавить</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostForm;\r\n","import React from 'react';\r\n\r\nimport PostList from './components/post-list/post-list.component';\r\nimport PostForm from './components/post-form/post-form.component';\r\nimport { PostProvider } from './contexts/PostContext';\r\n\r\nimport './App.css';\r\n\r\nconst App = () => {\r\n\r\n  return (\r\n    <PostProvider>\r\n      <div className='App'>\r\n        <PostList />\r\n        <PostForm />\r\n      </div>\r\n    </PostProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n"],"sourceRoot":""}