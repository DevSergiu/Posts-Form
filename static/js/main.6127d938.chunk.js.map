{"version":3,"sources":["reducers/postReducer.js","contexts/PostContext.jsx","components/tags/tags.component.jsx","components/post/post.component.jsx","components/post-list/post-list.component.jsx","components/post-form/post-form.component.jsx","App.js","index.js"],"names":["postReducer","state","action","type","tag","post","tags","split","id","uuid","title","body","filter","PostContext","createContext","PostProvider","props","useReducer","postsData","localData","localStorage","getItem","JSON","parse","posts","dispatch","useEffect","setItem","stringify","Provider","value","children","Tags","classTag","className","Post","useContext","Object","values","map","key","onClick","PostList","PostForm","validateForm","useState","setPosts","errors","setErrors","handleChange","e","target","name","onSubmit","preventDefault","test","length","validate","placeholder","onChange","required","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6127d938.chunk.js","sourcesContent":["import uuid from \"uuid/v4\";\r\n\r\nexport const postReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'ADD_POST':\r\n      const tag = action.post.tags.split(\" \");\r\n      return [...state, {\r\n        id: uuid(),\r\n        title: action.post.title,\r\n        body: action.post.body,\r\n        tags: tag\r\n\r\n      }]\r\n\r\n    case 'REMOVE_POST':\r\n      return state.filter(post => post.id !== action.id)\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import React, { useEffect, createContext, useReducer } from \"react\";\r\nimport { postReducer } from \"../reducers/postReducer\";\r\nimport postsData from \"../assets/posts.json\";\r\n\r\nexport const PostContext = createContext();\r\n\r\nexport const PostProvider = props => {\r\n  const [posts, dispatch] = useReducer(postReducer, [...postsData], () => {\r\n    const localData = localStorage.getItem(\"posts\");\r\n    return localData ? JSON.parse(localData) : [...postsData];\r\n  });\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(\"posts\", JSON.stringify(posts));\r\n  }, [posts]);\r\n\r\n  return (\r\n    <PostContext.Provider value={{ posts, dispatch }}>\r\n      {props.children}\r\n    </PostContext.Provider>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nconst Tags = ({ tag, classTag }) => <button className={classTag}>{tag}</button>;\r\n\r\nexport default Tags;\r\n","import React, { useContext } from \"react\";\r\nimport { PostContext } from \"../../contexts/PostContext\";\r\nimport Tags from \"../tags/tags.component\";\r\n\r\nimport \"./post.styles.scss\";\r\n\r\nconst Post = ({ title, body, tags, id }) => {\r\n  const { dispatch } = useContext(PostContext);\r\n\r\n  return (\r\n    <div className=\"post\">\r\n      <div>\r\n        <h3 className=\"post--title\">{title}</h3>\r\n        <p className=\"post--body\">{body}</p>\r\n\r\n        {Object.values(tags).map((tag, id) => (\r\n          <Tags classTag=\"btn btn--tag\" tag={tag} key={id} />\r\n        ))}\r\n\r\n        <div>\r\n          <button\r\n            className=\"btn btn--post-delete\"\r\n            onClick={() => dispatch({ type: \"REMOVE_POST\", id })}\r\n          >\r\n            Удалить\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import React, { useContext } from \"react\";\r\nimport Post from \"../post/post.component\";\r\nimport { PostContext } from \"../../contexts/PostContext\";\r\n\r\nconst PostList = () => {\r\n  const { posts } = useContext(PostContext);\r\n\r\n  return (\r\n    <div>\r\n      {posts.map((post, id) => (\r\n        <Post\r\n          title={post.title}\r\n          body={post.body}\r\n          tags={post.tags}\r\n          id={post.id}\r\n          key={id}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostList;\r\n","import React, { useState, useContext } from \"react\";\r\nimport { PostContext } from \"../../contexts/PostContext\";\r\n// import validate, { errors } from \"../../validateForm\";\r\n\r\nimport \"./post-form.styles.scss\";\r\n\r\nconst PostForm = validateForm => {\r\n  const { dispatch } = useContext(PostContext);\r\n\r\n  const [posts, setPosts] = useState({ title: \"\", body: \"\", tags: \"\" });\r\n  const [errors, setErrors] = useState({ title: \" \", body: \" \", tags: \" \" });\r\n\r\n  const handleChange = e => {\r\n    const { name, value } = e.target;\r\n    setPosts({\r\n      ...posts,\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  const validate = posts => {\r\n    let errors = {};\r\n\r\n    if (!posts.title) {\r\n      errors.title = \"Title is required\";\r\n    } else if (!/^[a-zA-Z0-9]{4,10}$/.test(posts.title)) {\r\n      errors.title =\r\n        \"Title: special characters not allowed ,must contain between 4-10 characters\";\r\n    }\r\n    if (!posts.body) {\r\n      errors.body = \"body is required\";\r\n    } else if (posts.body.length < 10) {\r\n      errors.body = \"Body: needs to be more than 10 characters\";\r\n    }\r\n    if (!posts.tags) {\r\n      errors.tags = \"tags is required\";\r\n    } else if (!/^[a-z](?!.* {2})[ \\w.-]{2,24}$/.test(posts.tags)) {\r\n      errors.tags = \"Tags: separate your tags with 1 space\";\r\n    }\r\n    return errors;\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    setErrors(validate(posts));\r\n    if (!errors.title) {\r\n      dispatch({\r\n        type: \"ADD_POST\",\r\n        post: {\r\n          title: posts.title,\r\n          body: posts.body,\r\n          tags: posts.tags\r\n        }\r\n      });\r\n    }\r\n    setPosts({ title: \"\", body: \"\", tags: \"\" });\r\n  };\r\n\r\n  return (\r\n    <div className=\"post--Form\">\r\n      <form onSubmit={handleSubmit}>\r\n        <div>\r\n          <input\r\n            className=\"form--input\"\r\n            type=\"text\"\r\n            name=\"title\"\r\n            placeholder=\"заголовок\"\r\n            value={posts.title}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n          <div className=\"error\">{errors.title && <p>{errors.title}</p>}</div>\r\n          <input\r\n            className=\"form--input\"\r\n            type=\"text\"\r\n            name=\"body\"\r\n            placeholder=\"запись\"\r\n            value={posts.body}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n          <div className=\"error\">{errors.body && <p>{errors.body}</p>}</div>\r\n          <input\r\n            className=\"form--input\"\r\n            type=\"text\"\r\n            name=\"tags\"\r\n            placeholder=\"тег, еще тег\"\r\n            value={posts.tags}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n          <div className=\"error\">{errors.tags && <p>{errors.tags}</p>}</div>\r\n        </div>\r\n        <button className=\"btn btn--post-add\">Добавить</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostForm;\r\n","import React from 'react';\r\n\r\nimport PostList from './components/post-list/post-list.component';\r\nimport PostForm from './components/post-form/post-form.component';\r\nimport { PostProvider } from './contexts/PostContext';\r\n\r\nimport './App.css';\r\n\r\nconst App = () => {\r\n\r\n  return (\r\n    <PostProvider>\r\n      <div className='App'>\r\n        <PostList />\r\n        <PostForm />\r\n      </div>\r\n    </PostProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n"],"sourceRoot":""}